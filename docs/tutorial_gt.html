---

title: Tutorial - Ground Truth Estimation


keywords: fastai
sidebar: home_sidebar

summary: "Derive reference segmentations from segmentations of multiple experts. "
description: "Derive reference segmentations from segmentations of multiple experts. "
nb_path: "nbs/tutorial_gt.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/tutorial_gt.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="1---Expert-Segmentations">1 - Expert Segmentations<a class="anchor-link" href="#1---Expert-Segmentations"> </a></h2><p><strong>Required Steps:</strong></p>
<ol>
<li><em>Select parent folder</em> containing sub-folders with segmentation masks, one folder per expert</li>
<li>Click <em>Load Data</em></li>
</ol>
<video src="https://user-images.githubusercontent.com/13711052/139746674-4dbd2df4-d780-4ce3-8f77-f7f79a0b4eb9.mov" controls width="100%"></video>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Input Details</strong>:  <em>deepflash2</em> fuses</p>
<ul>
<li>binary segmentations of an image, that is, there must be a single foreground value that represents positively classified pixels</li>
<li>instance segmentations of an image (instances represent positively classified pixels)</li>
</ul>
<p>Examplary input folder structure:</p>
<blockquote>
<pre><code>expert_segmentations  -&gt; one parent folder
│                     
│───expert1           -&gt; one folder per expert
│   │   mask1.png     -&gt; segmentation masks
│   │   mask2.png
│   
└───expert2
    │   mask1.png
    │   mask2.png</code></pre>
</blockquote>
<p>All common image formats (tif, png, etc.) are supported. See <a href="https://imageio.readthedocs.io/en/stable/formats/index.html">imageio docs</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="2---Ground-Truth-Estimation">2 - Ground Truth Estimation<a class="anchor-link" href="#2---Ground-Truth-Estimation"> </a></h2><p><strong>Required Steps:</strong></p>
<ol>
<li>Click <em>Run</em> for STAPLE or Majority Voting</li>
</ol>
<video src="https://user-images.githubusercontent.com/13711052/139746719-6cabfc99-fbbe-4fd3-a495-3984c75507d2.mov" controls width="100%"></video><ul>
<li><strong>Simultaneous truth and performance level estimation (STAPLE).</strong> The STAPLE algorithm considers a collection of segmentations and computes a probabilistic estimate of the true segmentation and a measure of the performance level represented by each segmentation. <em>Source: Warfield, Simon K., Kelly H. Zou, and William M. Wells. "Simultaneous truth and performance level estimation (STAPLE): an algorithm for the validation of image segmentation." IEEE transactions on medical imaging 23.7 (2004): 903-921</em></li>
<li><strong>Majority Voting.</strong> Use majority voting to obtain the reference segmentation. Note that this filter does not resolve ties. In case of ties it will assign the indicated <em>MV undecided</em> label to the result. </li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="3---Expert-Performance-Scores">3 - Expert Performance Scores<a class="anchor-link" href="#3---Expert-Performance-Scores"> </a></h2><p><strong>Required Steps:</strong></p>
<ol>
<li>Results Table: Click <em>Open</em> and <em>Update</em><ul>
<li>Filter the and sort the results</li>
<li>Download the results </li>
</ul>
</li>
</ol>
<video src="https://user-images.githubusercontent.com/13711052/139746788-3df4f730-da4a-4117-9633-18e7832a24d2.mov" controls width="100%"></video>
</div>
</div>
</div>
</div>
 

